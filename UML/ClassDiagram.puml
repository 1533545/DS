@startuml

skinparam linetype ortho

/' Tests '/
/' package "Testing" #DDDDDD {
      class MainTests {
      }
      Abstract IProject {
      }
      class ProjectTests {
      }
      class TaskTests {
      }
} '/


/' Back End '/
package "Kernel" #DDDDDD {
  class Main {
    +{static}main()
  }

  Abstract ProjectComponent {
      -fatherNode : ProjectComponent
      +id : String
      +name : String
      +description: String
      +estimatedTime : Duration
      +CompletedWork : Duration
      #UpdateState()
      #UpdateTime()
  }

  class ProjectComposite {
     +RemoveComponent(Component : ProjectComponent) : void
     +AddComponent(Component : ProjectComponent) : void
   }

  class Task {
    +startTime: LocalDateTime
    +endTime: LocalDateTime
    +StartTask() : void
    +PauseTask() : void
    +FinishTask() : void
    /'+AddTimeInterval(interval:Interval) : void'/
  }

  enum ComponentState {
    TODO,
    DOING,
    DONE
  }

  class Interval {
    -_start : LocalDateTime
    -_end : LocalDateTime
    /'+StartCounting() : void
    +PauseCounting() : void
    +StopCounting() : void'/
    +getStart(): LocalDateTime
    +getEnd(): LocalDateTime
    +getDuration() : Duration
    +update()
  }

  class Clock{
  -_timer: Timer
  +startTimer()
  -tick()

  }

  package "java.util"
  {
      abstract Observable {
        +AddObserver(o:Observer) : void
        +DeleteObserver(o:Observer) : void
        +DeleteObservers() : void
        #SetChanged() : void
        +HasChanged() : bool
        #ClearChanged() : void
        +NotifyObservers(arg:object) : void
      }
      interface Observer
      {
           +void Update(observable : Observable, arg: object )
      }
      Observable "0..N" *--> "1" Observer:ObserverList
  }

}

/' Relationship '/
  Task -right-|> ProjectComponent
  ProjectComponent "1" o-right- "1" ComponentState : State
  ProjectComponent <|-- ProjectComposite
  ProjectComponent "N" --o "1" ProjectComposite : Children
  Task "1" o-- "0..N" Interval
  Interval ..|> Observer
  Main -- ProjectComponent: "instantiates"
  Clock --|> Observable

@enduml
